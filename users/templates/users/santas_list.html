{# santas_list#}
{% extends "base.html" %}
{% load static %}

{% block title %}Secret Santa Participants{% endblock %}

{% block content %}
    <title>Secret Santa Participants</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 1000px;
            margin: 50px auto 0 auto;
            padding: 20px 20px 0 20px;
            background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* Snowball animation */
        .snowflake {
            position: fixed;
            top: -10px;
            z-index: 1;
            color: white;
            font-size: 20px;
            animation: fall linear infinite;
            opacity: 0.8;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }
        
        /* Create multiple snowballs at different positions */
        .snowflake:nth-child(1) { left: 10%; animation-duration: 8s; animation-delay: 0s; }
        .snowflake:nth-child(2) { left: 20%; animation-duration: 10s; animation-delay: 2s; }
        .snowflake:nth-child(3) { left: 30%; animation-duration: 9s; animation-delay: 1s; }
        .snowflake:nth-child(4) { left: 40%; animation-duration: 11s; animation-delay: 3s; }
        .snowflake:nth-child(5) { left: 50%; animation-duration: 7s; animation-delay: 1.5s; }
        .snowflake:nth-child(6) { left: 60%; animation-duration: 9s; animation-delay: 0.5s; }
        .snowflake:nth-child(7) { left: 70%; animation-duration: 10s; animation-delay: 2.5s; }
        .snowflake:nth-child(8) { left: 80%; animation-duration: 8s; animation-delay: 1s; }
        .snowflake:nth-child(9) { left: 90%; animation-duration: 11s; animation-delay: 0s; }
        .snowflake:nth-child(10) { left: 15%; animation-duration: 9s; animation-delay: 3s; }
        
        .container {
            background: white;
            border-radius: 0;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            position: relative;
            z-index: 2;
            margin-bottom: 0;
        }
        
        h1 {
            color: #c41e3a;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .participants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .participant-item {
            padding: 25px;
            background: #fff5f5;
            border-left: 4px solid #c41e3a;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            text-align: center;
        }

        .participant-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .participant-name {
            font-size: 1.3em;
            color: #c41e3a;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .participant-date {
            color: #999;
            font-size: 0.9em;
        }
        
        .no-participants {
            text-align: center;
            color: #999;
            padding: 40px;
            font-size: 1.1em;
        }
        
        .count {
            text-align: center;
            color: #c41e3a;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .welcome-message {
            text-align: center;
        }

        .welcome-title {
            font-size: 3em;
            color: #c41e3a;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .welcome-subtitle {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .welcome-description {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 40px;
            line-height: 1.8;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .welcome-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .welcome-btn {
            display: inline-block;
            padding: 15px 40px;
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1.2em;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .welcome-btn-primary {
            background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%);
        }

        .welcome-btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(196, 30, 58, 0.4);
            color: white;
            text-decoration: none;
        }

        .welcome-btn-secondary {
            background: linear-gradient(135deg, #2d5016 0%, #1a3009 100%);
        }

        .welcome-btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(45, 80, 22, 0.4);
            color: white;
            text-decoration: none;
        }

        .welcome-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 50px;
            padding-top: 40px;
            border-top: 2px solid #eee;
        }

        .feature-item {
            text-align: center;
            padding: 20px;
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 1.2em;
            color: #c41e3a;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .feature-description {
            color: #666;
            font-size: 0.95em;
            line-height: 1.6;
        }
    </style>

    <!-- Falling snowballs -->
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>
    <div class="snowflake">‚ö™</div>

    <div class="container">
        {% if not user.is_authenticated %}
            <!-- Welcome message for non-authenticated users -->
            <div class="welcome-message">
                <div class="welcome-title">üéÖ Welcome to Secret Santa! üéÑ</div>
                <div class="welcome-subtitle">Join the Magic of Gift Giving</div>
                <div class="welcome-description">
                    Experience the joy of Secret Santa! Create your wishlist, get matched with another participant, 
                    and discover the perfect gift to make someone's Christmas special. Join our festive community 
                    and spread the holiday cheer!
                </div>
                <div class="welcome-buttons">
                    <a href="{% url 'register' %}" class="welcome-btn welcome-btn-primary">
                        üéÅ Get Started
                    </a>
                    <a href="{% url 'login' %}" class="welcome-btn welcome-btn-secondary">
                        üîê Login
                    </a>
                </div>
                <div class="welcome-features">
                    <div class="feature-item">
                        <div class="feature-icon">üìù</div>
                        <div class="feature-title">Create Wishlist</div>
                        <div class="feature-description">
                            Add items to your wishlist so your Secret Santa knows what you'd love to receive
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üéØ</div>
                        <div class="feature-title">Get Matched</div>
                        <div class="feature-description">
                            Our system randomly matches you with another participant for a fun surprise
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üéÅ</div>
                        <div class="feature-title">Give & Receive</div>
                        <div class="feature-description">
                            See your match's wishlist and discover the perfect gift to make their day
                        </div>
                    </div>
                </div>
            </div>
        {% else %}
            <!-- Authenticated users see participants list -->
            <h1>üéÖ Secret Santa üéÑ</h1>
            <p class="subtitle">Gift Exchange Participants</p>

            {% if not is_participant %}
                <div style="text-align: center; margin-bottom: 30px;">
                    <a href="{% url 'join_secret_santa' %}" style="
                        display: inline-block;
                        padding: 12px 30px;
                        background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%);
                        color: white;
                        text-decoration: none;
                        border-radius: 25px;
                        font-weight: 600;
                        font-size: 1.1em;
                        transition: transform 0.2s, box-shadow 0.2s;
                    " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(196, 30, 58, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                        üéÅ Join Secret Santa
                    </a>
                </div>
            {% endif %}

            {% if santas %}
                <p class="count">Total Participants: {{ santas|length }}</p>

                <div class="participants-grid">
                    {% for santa in santas %}
                        <div class="participant-item">
                            <div class="participant-name">{{ santa.user.username }}</div>
                            <div class="participant-date">Joined: {{ santa.created_at|date:"F d, Y" }}</div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="no-participants">
                    <p>No participants yet! üéÅ</p>
                    <p>Be the first to join the Secret Santa!</p>
                </div>
            {% endif %}
        {% endif %}
    </div>
{% endblock %}